# 矩阵最大权值路径
**核心算法：深度优先搜索**  
记录每一个路径，比较权值大小来更新路径
```python
def dfs(x,y,summary):
    global max_summary,max_output

    output.append(str(x)+' '+str(y))
    for dx,dy in ((-1,0),(1,0),(0,-1),(0,1)):
        nx=x+dx
        ny=y+dy
        if maze[nx][ny]=='end':
            if summary>max_summary:
                max_summary=summary
                max_output=output[:]
        else:
            if not visited[nx][ny]:
                visited[nx][ny]=True
                dfs(nx,ny,summary+maze[nx][ny])
                visited[nx][ny]=False
    output.pop()

    return


n,m=map(int,input().split())
maze=[]
maze.append([1]*(m+2))
for _ in range(n):
    maze.append([1]+list(map(int,input().split()))+[1])
maze.append([1]*(m+2))

end_num=maze[n][m]
maze[n][m]='end'

visited=[[True]*(m+2)]+[[True]+[False]*m+[True] for _ in range(n)]+[[True]*(m+2)]
visited[1][1]=True

max_summary=float('-inf')
output=[]
max_output=[]

dfs(1,1,maze[1][1])
max_output.append(str(n)+' '+str(m))

for position in max_output:
    print(position)
```
https://sunnywhy.com/sfbj/8/1/316
