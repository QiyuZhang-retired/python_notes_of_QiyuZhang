# T26977: 接雨水
**算法核心：单调栈**
```python
n=int(input())
heights=list(map(int,input().split()))

rain_water=0
#维护单调递减栈，找左右边界
stack=[]
for i in range(n):
    while stack and heights[i]>heights[stack[-1]]:
        index=stack.pop()
        if not stack:
            break
        height=min(heights[stack[-1]],heights[i])-heights[index]
        width=i-stack[-1]-1
        rain_water+=height*width
    stack.append(i)

print(rain_water)
```
http://cs101.openjudge.cn/practice/26977/
